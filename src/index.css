@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body,
#root {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
}

@layer base {
  :root {
    /* Safe Light Theme (Default) */
    --bg-main: 248 250 252; /* slate-50 */
    --bg-paper: 255 255 255; /* white */
    --bg-subtle: 241 245 249; /* slate-100 */

    --text-main: 15 23 42; /* slate-900 */
    --text-muted: 100 116 139; /* slate-500 */
    --text-subtle: 148 163 184; /* slate-400 */

    --border-main: 226 232 240; /* slate-200 */
    --border-subtle: 241 245 249; /* slate-100 */

    --primary-main: 37 99 235; /* blue-600 */
    --primary-fg: 255 255 255; /* white */

    --danger-main: 220 38 38; /* red-600 */
  }

  .dark {
    /* Dark Theme */
    --bg-main: 15 23 42; /* slate-900 */
    --bg-paper: 30 41 59; /* slate-800 */
    --bg-subtle: 51 65 85; /* slate-700 */

    --text-main: 241 245 249; /* slate-100 */
    --text-muted: 148 163 184; /* slate-400 */
    --text-subtle: 100 116 139; /* slate-500 */

    --border-main: 51 65 85; /* slate-700 */
    --border-subtle: 30 41 59; /* slate-800 */

    --primary-main: 59 130 246; /* blue-500 */
    --primary-fg: 255 255 255; /* white */

    --danger-main: 239 68 68; /* red-500 */
  }
}

body {
  background-color: rgb(var(--bg-main));
  color: rgb(var(--text-main));
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

/* Markdown (Prose) Styling */
.devnote-markdown {
  @apply text-text-main leading-relaxed overflow-hidden;
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial,
    sans-serif;
}

.devnote-markdown h1 {
  @apply text-[24px] font-bold mt-10 mb-4 pb-2 border-b border-border text-text-main;
}
.devnote-markdown h2 {
  @apply text-[20px] font-bold mt-8 mb-3 pb-1 border-b border-border-subtle text-text-main;
}
.devnote-markdown h3 {
  @apply text-[18px] font-bold mt-6 mb-2 text-text-main;
}
.devnote-markdown p {
  @apply mb-5;
}
.devnote-markdown ul {
  @apply list-disc pl-7 mb-5 space-y-2;
}
.devnote-markdown ol {
  @apply list-decimal pl-7 mb-5 space-y-2;
}
.devnote-markdown li > p {
  @apply mb-0 inline;
}
.devnote-markdown blockquote {
  @apply border-l-4 border-blue-400 pl-5 py-2 italic text-text-muted mb-5 bg-blue-50/20 rounded-r;
}
.devnote-markdown table {
  @apply w-full border-collapse mb-6 text-sm bg-background-paper shadow-sm;
}
.devnote-markdown th {
  @apply bg-background-subtle border border-border p-3 font-semibold text-left text-text-main;
}
.devnote-markdown td {
  @apply border border-border p-3 text-text-main;
}
.devnote-markdown hr {
  @apply my-10 border-border;
}
.devnote-markdown a {
  @apply text-blue-600 underline decoration-blue-200 underline-offset-4 hover:text-blue-800 hover:decoration-blue-500 transition-all dark:text-blue-400 dark:decoration-blue-400/30 dark:hover:text-blue-300;
}
.devnote-markdown strong {
  @apply font-semibold text-text-main;
}
.devnote-markdown pre {
  @apply my-0 p-0 bg-transparent rounded-none border-none shadow-none !important;
}

/* Custom scrollbar for code blocks */
.custom-scrollbar::-webkit-scrollbar {
  height: 6px;
  width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  @apply bg-transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  @apply bg-border rounded-full hover:bg-text-subtle transition-colors;
}

.devnote-markdown code {
  @apply bg-background-subtle text-text-main px-1.5 py-0.5 rounded text-[0.9em] font-mono border border-border-subtle;
}
.devnote-markdown pre code {
  @apply bg-transparent text-inherit p-0 rounded-none border-none whitespace-pre;
}
